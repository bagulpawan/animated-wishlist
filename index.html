<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‚ú® Festive Wishlist ‚Äî Revamped</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Mountains+of+Christmas:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#061025; --bg-2:#19233a; --glass: rgba(255,255,255,0.04);
      --card:#ffffff; --accent:#e63946; --pink:#ff8fab; --green:#1b7a2f;
      --muted:rgba(255,255,255,0.8); --muted-2:rgba(6,32,53,0.6);
      --radius:16px; --maxw:1100px;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,-apple-system;background:radial-gradient(900px 400px at 10% 10%, rgba(255,255,255,0.02), transparent), linear-gradient(180deg,var(--bg-1),var(--bg-2));color:var(--muted);-webkit-font-smoothing:antialiased}

    /* Shell */
    .shell{max-width:var(--maxw);margin:32px auto;padding:26px;border-radius:18px;position:relative;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));box-shadow:0 30px 80px rgba(2,6,23,0.55)}

    header{display:flex;gap:18px;align-items:center}
    .logo{width:86px;height:86px;border-radius:18px;background:linear-gradient(135deg,var(--accent),var(--pink));display:flex;align-items:center;justify-content:center;font-size:42px;box-shadow:0 18px 40px rgba(0,0,0,0.4)}
    h1{font-family:'Mountains of Christmas',cursive;color:#fff;font-size:44px;margin:0}
    .sub{font-size:13px;margin-top:6px;color:rgba(255,255,255,0.85)}

    /* layout */
    .layout{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:18px}

    /* wishlist column */
    .list{display:flex;flex-direction:column;gap:14px}
    .item{display:flex;gap:12px;align-items:center;padding:14px;border-radius:14px;background:linear-gradient(180deg,#fff,#fafafa);box-shadow:0 18px 40px rgba(2,6,23,0.08);position:relative;overflow:hidden}
    .item .emoji{width:68px;height:68px;border-radius:12px;background:linear-gradient(180deg,#fff,#f6f6f6);display:flex;align-items:center;justify-content:center;font-size:30px}
    .meta h3{margin:0;font-size:17px;color:#062033}
    .meta p{margin:6px 0 0 0;font-size:13px;color:var(--muted-2)}

    .controls{margin-left:auto;display:flex;gap:8px;align-items:center}
    .btn{background:linear-gradient(90deg,var(--green),#37b87b);border:none;color:white;padding:10px 12px;border-radius:10px;font-weight:700;text-decoration:none;display:inline-flex;align-items:center;gap:8px}
    .ghost{background:transparent;border:1px solid rgba(6,32,53,0.06);padding:8px;border-radius:10px;cursor:pointer}

    /* subtle entrance */
    .item{opacity:0;transform:translateX(-20px) scale(.995)}
    .item.show{opacity:1;transform:none;transition:all .5s cubic-bezier(.2,.9,.3,1)}
    .item:hover{transform:translateY(-8px) scale(1.01);box-shadow:0 34px 80px rgba(2,6,23,0.18)}

    /* right panel */
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:16px;height:100%;display:flex;flex-direction:column;gap:12px}
    .search{display:flex;gap:10px}
    .search input{flex:1;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted)}
    .addRow{display:flex;gap:8px}
    .addRow input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted)}

    /* utilities */
    .small{font-size:13px;color:rgba(255,255,255,0.78)}
    .tag{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);font-size:13px}

    /* decorative */
    .tree{position:absolute;right:-90px;top:40px;opacity:.06;transform:rotate(-8deg);width:480px}
    .sparkle{position:absolute;right:18px;top:18px;width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,0.9);box-shadow:0 0 10px rgba(255,255,255,0.6);animation:float 2.8s linear infinite}
    @keyframes float{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(180deg)}100%{transform:translateY(0) rotate(360deg)}}

    /* snow (simple) */
    .snow{pointer-events:none;position:fixed;inset:0;z-index:6}
    .snow i{position:absolute;display:block;width:6px;height:6px;background:rgba(255,255,255,0.86);border-radius:50%;opacity:.95;animation:fall linear infinite}

    footer{display:flex;justify-content:space-between;align-items:center;margin-top:18px;color:rgba(255,255,255,0.9)}

    @media (max-width:980px){.layout{grid-template-columns:1fr}.tree{display:none}}
  </style>
</head>

<body>
  <div class="shell" id="app">
    <svg class="tree" viewBox="0 0 200 300" aria-hidden>
      <g fill="#ffffff"><path d="M100 10 L40 110 L160 110 Z" opacity="0.9"></path><path d="M100 60 L30 150 L170 150 Z" opacity="0.9"></path><path d="M100 110 L20 190 L180 190 Z" opacity="0.95"></path></g>
    </svg>

    <div class="fairy" aria-hidden style="display:flex;gap:8px;margin-bottom:8px">
      <div class="light" style="width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px rgba(230,57,70,0.6);animation:glow 1.6s infinite"></div>
      <div class="light" style="width:10px;height:10px;border-radius:50%;background:var(--pink);box-shadow:0 0 8px rgba(255,139,171,0.6);animation:glow 1.8s .12s infinite"></div>
      <div class="light" style="width:10px;height:10px;border-radius:50%;background:var(--green);box-shadow:0 0 8px rgba(27,122,47,0.5);animation:glow 1.4s .28s infinite"></div>
    </div>

    <header>
      <div class="logo" aria-hidden>üéÅ</div>
      <div>
        <h1>My Holiday Wishlist</h1>
        <div class="sub">A refreshed, cleaner and faster experience ‚Äî preview only</div>
      </div>
      <div class="sparkle" aria-hidden></div>
    </header>

    <div class="layout">
      <main class="list" id="list"></main>

      <aside class="panel" aria-label="Controls and suggestions">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong style="color:#fff">Manage list</strong>
          <div class="tag">Preview ‚Ä¢ Dec 2025</div>
        </div>

        <div class="search">
          <input id="q" placeholder="Search items... (press 's' to focus)" aria-label="Search wishlist">
          <button class="ghost" id="clear">Clear</button>
        </div>

        <div class="small">Quick add (preview only)</div>
        <div class="addRow">
          <input id="newName" placeholder="Item name" aria-label="New item name">
          <input id="newURL" placeholder="Optional URL" aria-label="New item url">
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn" id="addBtn">Add</button>
          <button class="ghost" id="reset">Reset</button>
          <button class="ghost" id="export">Export</button>
        </div>

        <div style="margin-top:auto;font-size:13px;color:rgba(255,255,255,0.75)">Tip: Use the details button on an item to toggle full URL. Items are stored in memory for this session only.</div>
      </aside>
    </div>

    <footer>
      <div>Made with care ‚Ä¢ üéÑ</div>
      <div style="font-size:13px">Want this as a React component? Ask and I‚Äôll convert it.</div>
    </footer>
  </div>

  <div class="snow" id="snow"></div>
  <canvas id="confetti" style="position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:9"></canvas>

  <script>
    // --- data ---
    const initial = [
      { name: 'Marshal Tech Kit Organiser - Blue', url: 'https://www.dailyobjects.com/marshal-tech-kit-organiser-leatherite-blue/dp?f=pid~BLU-MARSAL-TECH-KIT-LTHRT', emoji: 'üß∞' },
      { name: 'Apple AirTag', url: 'https://www.apple.com/in/airtag/', emoji: 'üìç' },
      { name: 'Portronics Beem 440 Projector', url: 'https://www.amazon.in/Portronics-Projector-Resolution-Rotatable-Streaming/dp/B0CQG7XMXC', emoji: 'üé•' },
      { name: 'AirPods 4', url: 'https://www.apple.com/in/airpods-4/', emoji: 'üéß' }
    ];

    let items = [...initial];

    // --- DOM ---
    const listEl = document.getElementById('list');
    const q = document.getElementById('q');

    // create item node
    function makeItem(it, i){
      const el = document.createElement('article'); el.className='item'; el.setAttribute('role','article');

      const em = document.createElement('div'); em.className='emoji'; em.textContent = it.emoji || 'üéÅ';
      const meta = document.createElement('div'); meta.className='meta';
      const h = document.createElement('h3'); h.textContent = it.name;
      const p = document.createElement('p'); p.textContent = it.url ? new URL(it.url).hostname.replace('www.','') : '‚Äî no link ‚Äî';
      meta.appendChild(h); meta.appendChild(p);

      const ctr = document.createElement('div'); ctr.className='controls';
      const buy = document.createElement('a'); buy.className='btn'; buy.textContent = it.url? 'Buy' : 'View'; buy.href = it.url || '#'; buy.target='_blank'; buy.rel='noopener noreferrer';
      const det = document.createElement('button'); det.className='ghost'; det.textContent='Details'; det.setAttribute('aria-expanded','false');
      det.addEventListener('click', ()=>{
        const open = det.getAttribute('aria-expanded') === 'true'; det.setAttribute('aria-expanded', String(!open)); p.textContent = !open ? (it.url || '‚Äî no link ‚Äî') : (it.url ? new URL(it.url).hostname.replace('www.','') : '‚Äî no link ‚Äî');
      });

      // copy url button
      const copy = document.createElement('button'); copy.className='ghost'; copy.title='Copy URL'; copy.textContent='Copy';
      copy.addEventListener('click', async ()=>{
        if(!it.url) return alert('No URL to copy');
        try{ await navigator.clipboard.writeText(it.url); copy.textContent='Copied'; setTimeout(()=>copy.textContent='Copy',1200);}catch(e){alert('Copy failed');}
      });

      ctr.appendChild(buy); ctr.appendChild(det); ctr.appendChild(copy);

      el.appendChild(em); el.appendChild(meta); el.appendChild(ctr);

      // mouse tilt
      el.addEventListener('mousemove', e=>{ const r=el.getBoundingClientRect(); const x=(e.clientX-r.left)/r.width; const y=(e.clientY-r.top)/r.height; el.style.transform = `translateY(${(1-y)*-8}px) rotateX(${(0.5-y)*3}deg) rotateY(${(x-0.5)*8}deg)`; });
      el.addEventListener('mouseleave', ()=> el.style.transform='');

      setTimeout(()=> el.classList.add('show'), 80 * i);
      return el;
    }

    function render(filter){
      listEl.innerHTML='';
      const data = filter ? items.filter(it=> it.name.toLowerCase().includes(filter.toLowerCase())) : items;
      if(data.length===0){ const none=document.createElement('div'); none.className='small'; none.style.padding='18px'; none.textContent='No items found.'; listEl.appendChild(none); return; }
      data.forEach((it,i)=> listEl.appendChild(makeItem(it,i)));
    }

    render();

    // search
    q.addEventListener('input', e=> render(e.target.value)); document.getElementById('clear').addEventListener('click', ()=>{ q.value=''; render(); });

    // add
    document.getElementById('addBtn').addEventListener('click', ()=>{
      const n = document.getElementById('newName').value.trim(); const u = document.getElementById('newURL').value.trim();
      if(!n) return alert('Please enter a name');
      items.unshift({name:n,url:u,emoji:'üéÅ'}); document.getElementById('newName').value=''; document.getElementById('newURL').value=''; render();
    });

    // reset
    document.getElementById('reset').addEventListener('click', ()=>{ items = [...initial]; render(); });

    // export -> download JSON
    document.getElementById('export').addEventListener('click', ()=>{
      const blob = new Blob([JSON.stringify(items, null, 2)],{type:'application/json'});
      const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='wishlist.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    });

    // confetti
    const canvas = document.getElementById('confetti'); const ctx = canvas.getContext('2d'); function fit(){canvas.width=innerWidth;canvas.height=innerHeight;} window.addEventListener('resize', fit); fit(); let parts=[]; function burst(){ for(let i=0;i<90;i++){ parts.push({x:innerWidth/2 + (Math.random()-0.5)*400,y:160+Math.random()*80,vx:(Math.random()-0.5)*8,vy:Math.random()*8+2,size:6+Math.random()*8,color:`hsl(${Math.random()*360} 80% 60%)`,ttl:140+Math.random()*120}) } }
    function draw(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(let i=parts.length-1;i>=0;i--){const p=parts[i]; p.x+=p.vx; p.y+=p.vy; p.vy+=0.24; p.ttl--; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.ttl/7); ctx.fillStyle=p.color; ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size); ctx.restore(); if(p.y>innerHeight+50||p.ttl<0) parts.splice(i,1); } requestAnimationFrame(draw);} draw();
    // celebrate button maps to burst
    document.querySelectorAll('.ghost[id="celebrate"]').forEach(b=>b.addEventListener('click', ()=>burst()));
    // also allow double-click on header to celebrate
    document.querySelector('header').addEventListener('dblclick', ()=>burst());

    // snow
    const snow = document.getElementById('snow'); function makeSnow(n=80){ for(let i=0;i<n;i++){ const s=document.createElement('i'); const x=Math.random()*100; const dur=6+Math.random()*12; s.style.left=`${x}%`; s.style.top=`-${Math.random()*20}%`; s.style.opacity=0.6+Math.random()*0.4; s.style.transform=`scale(${0.6+Math.random()*1.2})`; s.style.animationDuration=`${dur}s`; s.style.animationDelay=`${Math.random()*5}s`; snow.appendChild(s); } } makeSnow(90);

    // accessibility: focus search (s)
    window.addEventListener('keydown', e=>{ if(e.key.toLowerCase()==='s'){ e.preventDefault(); q.focus(); } });

    // reduced motion
    if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){ document.querySelectorAll('.item').forEach(c=>c.style.transition='none'); }
  </script>
</body>

</html>
